<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * See LICENSE.md for license details.
  */
-->
<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">
    <!-- Open carrier settings group -->
    <actionGroup name="DhlPaketCarrierSettingsOpenActionGroup"
                 extends="ScrollToAndExpandGroupActionGroup"
    >
        <arguments>
            <argument name="groupName" defaultValue="AdminSystemConfigCarriersDhlPaketSection.carrierGroup"/>
            <argument name="groupNameExpanded" defaultValue="AdminSystemConfigCarriersDhlPaketSection.carrierGroupExpanded"/>
        </arguments>
    </actionGroup>

    <!-- Expand "General" tab -->
    <actionGroup name="DhlPaketCarrierSettingsExpandGeneralTabActionGroup"
                 extends="ScrollToAndExpandGroupActionGroup"
    >
        <arguments>
            <argument name="groupName" defaultValue="AdminSystemConfigCarriersDhlPaketSection.generalSettingsGroup"/>
            <argument name="groupNameExpanded" defaultValue="AdminSystemConfigCarriersDhlPaketSection.generalSettingsGroupExpanded"/>
        </arguments>
    </actionGroup>

    <!-- Expand "Checkout presentation" tab -->
    <actionGroup name="DhlPaketCarrierSettingsExpandCheckoutPresentationTabActionGroup"
                 extends="ScrollToAndExpandGroupActionGroup"
    >
        <arguments>
            <argument name="groupName" defaultValue="AdminSystemConfigCarriersDhlPaketSection.checkoutPresentationGroup"/>
            <argument name="groupNameExpanded" defaultValue="AdminSystemConfigCarriersDhlPaketSection.checkoutPresentationGroupExpanded"/>
        </arguments>
    </actionGroup>

    <!-- Unset carrier configuration to restore initial state -->
    <actionGroup name="DhlPaketResetCarrierSettingsActionGroup">
        <uncheckOption selector="{{AdminSystemConfigCarriersDhlPaketSection.carrierActive}}"
                       stepKey="uncheckOptionDisplayRatesAtCheckout"/>
    </actionGroup>

    <!-- Enabled DHL Paket carrier in "Shipping methods" configuration -->
    <actionGroup name="DhlPaketCarrierSettingsEnableActionGroup">
        <!-- Enable "active" checkbox -->
        <checkOption selector="{{AdminSystemConfigCarriersDhlPaketSection.carrierActive}}"
                     stepKey="checkOptionDisplayRatesAtCheckout"/>
    </actionGroup>

    <!-- Select "Use Rates From" -->
    <actionGroup name="DhlPaketCarrierSettingsSelectUseRatesFromActionGroup">
        <arguments>
            <argument name="useRatesFrom" defaultValue="CarriersDhlPaketSettings.useRatesFromFlatRate"/>
        </arguments>

        <seeElement selector="{{AdminSystemConfigCarriersDhlPaketSection.checkoutPresentationUseRatesFromSelect}}"
                    stepKey="seeCheckoutPresentationUseRatesFromSelect"/>
        <selectOption selector="{{AdminSystemConfigCarriersDhlPaketSection.checkoutPresentationUseRatesFromSelect}}"
                      userInput="{{useRatesFrom}}"
                      stepKey="selectCheckoutPresentationUseRatesFrom"/>
    </actionGroup>
</actionGroups>
